<?xml version="1.0" encoding="UTF-8"?>
<s:View uu="{{this.change}}" xmlns:s="es.core" xmlns:base="@" xmlns:c="es.components" xmlns:b="com" xmlns:p="view.page">
    <s:Metadata>[HostComponent("IndexApplication")]</s:Metadata>

    <s:Script>
    <![CDATA[

        import es.core.Display;

        static var count:int = 0;
      
        override protected function updateDisplayList()
        {
            //console.log("updateDisplayList",  this.currentState );
            if( !button ){
               return;
            }
            var self:Index= this;
            button.removeEventListener(MouseEvent.CLICK);
            button.addEventListener( MouseEvent.CLICK, function (e:MouseEvent)
            {
                count++;
                //console.log("click=========", self.change );

                console.log( self.skin1.currentState,"=========skin1 currentState====" );


                this.addChildAt( new Display( new Element("<div>==== the add child "+count+"====</div>") ) , 2);

                var datalist:Array=[];
                var len:int = Math.abs( Math.random() * 100 );
                len = 100;

                for(var i:int=0;i<len;i++)
                {
                    datalist.push({"name":i,"id":i,"address":Math.abs( Math.random() * 100000 )});
                }
                this.assign("datalist",datalist);
                if( this.currentState ==="tips"){
                    this.currentState = "modality";
                }else{
                    this.currentState = "tips";
                }
                self.change=this.currentState;

                 //this.display();

                /*if( self.change ==="tips"){
                    self.change = "modality";
                }else{
                    self.change = "tips";
                }*/
               
               

            },false,0,this);
        }

        public function goto(e:Event):void
        {

            console.log( "===goto====", this );

        }

        private function gototips(e:Event)
        {
          //   console.log( "===gototips====", this );
        }

        [Bindable] 
        public var change:*="ssss";

        [Bindable] 
        public var address:*="ssaddressss";

        public var statName:String="ssssss";

    ]]>
    </s:Script>

    <s:states>
        <s:State name="tips" stateGroup="simple" />
        <s:State name="title" stateGroup="simple" />
        <s:State name="alert" stateGroup="normal" />
        <s:State name="confirm" stateGroup="normal" />
        <s:State name="modality" stateGroup="normal" />
    </s:states>

    <s:currentState>normal</s:currentState>

    <s:title>yejun 5555</s:title>

    <head>
        <title>yejun 5555</title>
        <meta charset="UTF-8" http-equiv="X-UA-Compatible" />
        <meta name="keyword" http-equiv="es,easescript,569999" />
    </head>

     <style file="../index.less" />

    <body>

        <div onClick.normal="{this.goto}" onClick.tips="{this.gototips}" >
            <s:Container name="button" id="@button" type='button' class="btn btn-success" value="{this.change}" style="width: 100px;">
                 <span>点 我 {name}</span>
                 <span includeIn="alert">===</span>
            </s:Container>
            <s:Skin id="@skin1" onClick="{this.goto}" >
               <s:currentState>{{this.change}}</s:currentState> 
                <s:render excludeFrom="normal" >
                    <s:Render>
                         <div>
                            <ul>99999999999999============9999999999999999</ul>
                         </div>
                    </s:Render>
                </s:render>
            </s:Skin>
        </div>

        <div ooo="ssss" class.tips="navigate" data-api="{name}" >
            dsfdsfdsfsdf
        </div>

        <c:Navigate></c:Navigate>

        <input value="{{change}}" />
        <br />
        <input value="{skin1.currentState}"  />

        <table id="@table">
            <:foreach name="datalist" value="item">
                <tr id="@head">
                    <:foreach name="item" value="val" key="ukey">
                        <:switch condition="ukey">
                            <:case condition="name" break="true">
                                <td data-column="{key}" style="height:{rowHeight}px;line-height:{rowHeight}px;">
                                    <input value="{val}" data-index="{item.id}" style="height: 25px;" />
                                </td>
                            </:case>
                            <:default>
                                <td data-column="{ukey}" style="height:{rowHeight}px;line-height:{rowHeight}px; width: 120px;">
                                    <span style="color:red;">{val}</span>
                                </td>
                            </:default>
                        </:switch>
                    </:foreach>
                </tr>
            </:foreach>
        </table>

        <div class="uuuu " style="margin: 10px;">
            <h1>
                这里是\\\"内容\\\"9999999999=9999
            </h1>
        </div>

        <div class="popup-container fixed"  addClass.modality="popup-lg">
            <div class="popup-head" excludeFrom="tips">
                <span class="popup-title" >title</span>
                <button type="button" class="close" >×</button>
            </div>
            <div class="popup-body" >
                popup-body
            </div>
            <div class="popup-footer"  excludeFrom="simple">
                <button type="button" class="btn btn-sm btn-default" class.modality="{statname}"  excludeFrom="alert">取 消</button>
                <button type="button" class="btn btn-sm btn-primary" class.modality="btn btn-default" >确 定</button>
            </div>
        </div>


    </body>
 

</s:View>